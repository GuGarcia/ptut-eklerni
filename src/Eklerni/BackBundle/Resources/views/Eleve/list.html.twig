{% extends "EklerniBackBundle:Template:template.html.twig" %}

{% block body %}
    {% if classes|length > 0 %}
        <div class="box-body table-responsive">
            <div id="table_wrapper" class="dataTables_wrapper form-inline" role="grid">
                <table id="table" class="table table-bordered table-hover dataTable"
                       aria-describedby="table_info">
                    <thead>
                    <tr role="row">
                        <th class="sorting" role="columnheader" tabindex="0" aria-controls="table" rowspan="1"
                            colspan="1" aria-label="Rendering engine: activate to sort column ascending">Id
                        </th>
                        <th class="sorting_desc" role="columnheader" tabindex="0" aria-controls="table" rowspan="1"
                            colspan="1" aria-sort="descending" aria-label="Browser: activate to sort column ascending">
                            Ecole
                        </th>
                        <th class="sorting" role="columnheader" tabindex="0" aria-controls="table" rowspan="1"
                            colspan="1" aria-label="Platform(s): activate to sort column ascending">Niveau
                        </th>
                        <th class="sorting" role="columnheader" tabindex="0" aria-controls="table" rowspan="1"
                            colspan="1" aria-label="Engine version: activate to sort column ascending">Nom
                        </th>
                        <th class="sorting" role="columnheader" tabindex="0" aria-controls="table" rowspan="1"
                            colspan="1" aria-label="CSS grade: activate to sort column ascending">Nombre d'Élèves
                        </th>
                    </tr>
                    </thead>
                    <tbody role="alert" aria-live="polite" aria-relevant="all">
                    {% for classe in classes %}
                        <tr class="odd">
                            <td class="">{{ classe.id }}</td>
                            <td class="">{{ classe.ecole }}</td>
                            <td class="">
                                {{ classe.niveau }}</td>
                            <td class="sorting_1"><a
                                        href="{{ path("eklerni_back_classe_fiche", {idClasse: classe.id}) }}">{{ classe.nom }}</a>
                            </td>
                            <td class="">{{ classe.eleves|length }}</td>

                        </tr>
                    {% endfor %}
                    </tbody>
                    <tfoot>
                    </tfoot>
                </table>
            </div>
        </div>
    {% else %}
        <div class="box-body ">Vous n'avez pas de classe !</div>
    {% endif %}

    <a href="{{ path("eklerni_back_classe_create_ecole") }}">
        <button class="btn btn-default">Ajouter une Ecole</button>
    </a>
    <a href="{{ path("eklerni_back_classe_create") }}">
        <button class="btn btn-default">Ajouter une Classe</button>
    </a>
{% endblock %}

{% block javascripts %}
    <script type="application/javascript">
        $(function () {
            $('#table').dataTable({
                "bPaginate": true,
                "bLengthChange": false,
                "bFilter": false,
                "bSort": true,
                "bInfo": true,
                "bAutoWidth": false
            });
        });
    </script>

{% endblock %}
